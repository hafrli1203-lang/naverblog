services:
  # Python FastAPI — 블로그 분석 API + 광고/관리자/분석 + 프론트엔드 서빙
  - type: web
    name: naverblog
    runtime: python
    buildCommand: pip install -r backend/requirements.txt
    startCommand: cd backend && gunicorn main:app -w 2 -k uvicorn.workers.UvicornWorker --bind 0.0.0.0:$PORT
    envVars:
      - key: NAVER_CLIENT_ID
        sync: false
      - key: NAVER_CLIENT_SECRET
        sync: false
      - key: PYTHONIOENCODING
        value: utf-8
      - key: ADMIN_PASSWORD
        sync: false
      - key: SECRET_KEY
        sync: false
